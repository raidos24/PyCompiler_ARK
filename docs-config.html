<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Configuration Globale - PyCompiler ARK</title>
  <meta name="description" content="Configuration Globale PyCompiler ARK" />
  <link rel="icon" type="image/png" href="images/logo.png" />
  <style>
    :root {
      --bg: #0b0f14;
      --panel: #121821;
      --text: #e6eef8;
      --muted: #a9b2bf;
      --accent: #1f9cf0;
      --accent-2: #4bd1a0;
      --border: #1b2430;
      --shadow: rgba(0,0,0,.4);
      --code-bg: #0e1520;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 80% -10%, #122233 0%, rgba(18,34,51,0) 60%),
                  radial-gradient(900px 700px at -10% 110%, #1a2b2a 0%, rgba(26,43,42,0) 55%),
                  var(--bg);
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    /* Layout */
    .container { max-width: 1000px; margin: 0 auto; padding: 24px; }

    header {
      position: sticky; top: 0; z-index: 5;
      background: linear-gradient(to bottom, rgba(11,15,20,.9), rgba(11,15,20,.6) 50%, rgba(11,15,20,0));
      backdrop-filter: blur(6px);
      border-bottom: 1px solid var(--border);
    }
    .nav {
      display: flex; align-items: center; justify-content: space-between;
      gap: 16px; padding: 12px 0;
    }
    .brand { display: flex; align-items: center; gap: 12px; }
    .brand img { width: 36px; height: 36px; border-radius: 8px; box-shadow: 0 4px 16px var(--shadow); }
    .brand h1 { font-size: 18px; margin: 0; letter-spacing: .3px; }

    .nav-actions { display: flex; gap: 10px; align-items: center; }
    .btn {
      padding: 10px 14px; border: 1px solid var(--border); border-radius: 10px;
      background: linear-gradient(180deg, #17202b, #101620);
      color: var(--text); cursor: pointer; font-weight: 600; letter-spacing: .2px;
      box-shadow: 0 4px 16px var(--shadow);
      transition: transform .12s ease, background .2s ease, border-color .2s ease;
    }
    .btn:hover { transform: translateY(-1px); border-color: #263347; }
    .btn.primary { background: linear-gradient(180deg, #2095e7, #1679c2); border-color: #197ac7; }

    /* Main content */
    main { display: grid; grid-template-columns: 250px 1fr; gap: 24px; padding: 24px 0; }
    
    /* Sidebar */
    .sidebar {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 20px;
      height: fit-content;
      position: sticky;
      top: 100px;
    }
    .sidebar h3 { margin: 0 0 16px; font-size: 14px; text-transform: uppercase; letter-spacing: .5px; color: var(--muted); }
    .sidebar ul { list-style: none; margin: 0; padding: 0; }
    .sidebar li { margin: 8px 0; }
    .sidebar a { display: block; padding: 8px 12px; border-radius: 8px; transition: background .2s ease; }
    .sidebar a:hover { background: #1b2430; text-decoration: none; }
    .sidebar a.active { background: var(--accent); color: var(--bg); }

    /* Content */
    .content {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 32px;
      box-shadow: 0 8px 24px var(--shadow);
    }

    .content h1 { font-size: 32px; margin: 0 0 8px; }
    .content h2 { font-size: 24px; margin: 32px 0 16px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
    .content h3 { font-size: 18px; margin: 24px 0 12px; }
    .content h4 { font-size: 16px; margin: 16px 0 8px; }
    .content p { margin: 12px 0; line-height: 1.7; color: var(--text); }
    .content ul, .content ol { margin: 12px 0; padding-left: 24px; }
    .content li { margin: 8px 0; line-height: 1.6; }

    /* Code blocks */
    .content pre {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 16px;
      overflow-x: auto;
      margin: 16px 0;
    }
    .content code {
      font-family: 'Courier New', monospace;
      font-size: 14px;
      color: var(--accent-2);
    }
    .content pre code { color: #a9b2bf; }

    /* Inline code */
    .content p code, .content li code {
      background: var(--code-bg);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 13px;
    }

    /* Blockquotes */
    .content blockquote {
      border-left: 4px solid var(--accent);
      padding-left: 16px;
      margin: 16px 0;
      color: var(--muted);
      font-style: italic;
    }

    /* Tables */
    .content table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }
    .content th, .content td {
      border: 1px solid var(--border);
      padding: 12px;
      text-align: left;
    }
    .content th {
      background: var(--code-bg);
      font-weight: 600;
    }

    /* Loading state */
    .loading {
      text-align: center;
      padding: 40px;
      color: var(--muted);
    }

    /* Footer */
    footer { margin-top: 32px; border-top: 1px solid var(--border); padding: 16px 0 40px; color: var(--muted); font-size: 14px; }

    /* Responsive */
    @media (max-width: 768px) {
      main { grid-template-columns: 1fr; }
      .sidebar { position: static; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="images/logo2.png" alt="PyCompiler ARK Logo" />
        <h1>PyCompiler ARK</h1>
      </div>
      <div class="nav-actions">
        <a class="btn" href="index.html">Accueil</a>
        <a class="btn primary" href="https://github.com/raidos24/PyCompiler_ARK" target="_blank">GitHub</a>
      </div>
    </div>
  </header>

  <main class="container">
    <aside class="sidebar">
      <h3>Documentation</h3>
      <ul>
        <li><a href="docs-config.html" class="active">Configuration Globale</a></li>
        <li><a href="docs-engine.html">Créer un Moteur</a></li>
        <li><a href="docs-bc-plugin.html">Créer un Plugin BC</a></li>
      </ul>
    </aside>

    <article class="content" id="content">
      <div class="loading">Chargement de la documentation...</div>
    </article>
  </main>

  <footer>
    <div class="container">
      © <span id="year"></span> PyCompiler ARK — Tous droits réservés
    </div>
  </footer>

  <script>
    const $ = s => document.querySelector(s);
    $('#year').textContent = new Date().getFullYear();

    function markdownToHtml(markdown) {
      let html = markdown;
      html = html.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
      html = html.replace(/```(\w+)?\n([\s\S]*?)```/g, (match, lang, code) => {
        return `<pre><code>${code.trim()}</code></pre>`;
      });
      html = html.replace(/\n\|(.+)\n\|[-:\s|]+\n((?:\|.+\n?)*)/g, (match, header, rows) => {
        const headerCells = header.split('|').filter(c => c.trim()).map(c => `<th>${c.trim()}</th>`).join('');
        const bodyRows = rows.split('\n').filter(r => r.trim()).map(row => {
          const cells = row.split('|').filter(c => c.trim()).map(c => `<td>${c.trim()}</td>`).join('');
          return `<tr>${cells}</tr>`;
        }).join('');
        return `<table><thead><tr>${headerCells}</tr></thead><tbody>${bodyRows}</tbody></table>`;
      });
      html = html.replace(/^### (.*?)$/gm, '<h3>$1</h3>');
      html = html.replace(/^## (.*?)$/gm, '<h2>$1</h2>');
      html = html.replace(/^# (.*?)$/gm, '<h1>$1</h1>');
      html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
      html = html.replace(/__(.+?)__/g, '<strong>$1</strong>');
      html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
      html = html.replace(/_(.+?)_/g, '<em>$1</em>');
      html = html.replace(/`([^`]+)`/g, '<code>$1</code>');
      html = html.replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" target="_blank">$1</a>');
      html = html.replace(/^\d+\. (.*?)$/gm, '<li>$1</li>');
      html = html.replace(/(<li>.*<\/li>)/s, (match) => {
        if (match.includes('<ol>') || match.includes('<ul>')) return match;
        return '<ol>' + match + '</ol>';
      });
      html = html.replace(/^[\*\-] (.*?)$/gm, '<li>$1</li>');
      html = html.replace(/(<li>.*<\/li>)/s, (match) => {
        if (match.includes('<ol>')) return match;
        if (match.includes('<ul>')) return match;
        return '<ul>' + match + '</ul>';
      });
      html = html.replace(/^> (.*?)$/gm, '<blockquote>$1</blockquote>');
      html = html.replace(/\n\n/g, '</p><p>');
      html = '<p>' + html + '</p>';
      html = html.replace(/<p><\/p>/g, '');
      html = html.replace(/<p>(<h[1-6])/g, '$1');
      html = html.replace(/(<\/h[1-6]>)<\/p>/g, '$1');
      html = html.replace(/<p>(<pre)/g, '$1');
      html = html.replace(/(<\/pre>)<\/p>/g, '$1');
      html = html.replace(/<p>(<table)/g, '$1');
      html = html.replace(/(<\/table>)<\/p>/g, '$1');
      html = html.replace(/<p>(<ul)/g, '$1');
      html = html.replace(/(<\/ul>)<\/p>/g, '$1');
      html = html.replace(/<p>(<ol)/g, '$1');
      html = html.replace(/(<\/ol>)<\/p>/g, '$1');
      html = html.replace(/<p>(<blockquote)/g, '$1');
      html = html.replace(/(<\/blockquote>)<\/p>/g, '$1');
      return html;
    }

    async function loadDocumentation(docFile) {
      const url = `https://raw.githubusercontent.com/raidos24/PyCompiler_ARK/main/docs/${docFile}`;
      const contentDiv = $('#content');
      try {
        const response = await fetch(url);
        if (!response.ok) throw new Error('Fichier non trouvé');
        const markdown = await response.text();
        const html = markdownToHtml(markdown);
        contentDiv.innerHTML = html;
      } catch (error) {
        contentDiv.innerHTML = `<div class="loading" style="color: #ff6b6b;">Erreur lors du chargement: ${error.message}</div>`;
      }
    }

    loadDocumentation('ark_main_config.md');
  </script>
</body>
</html>
